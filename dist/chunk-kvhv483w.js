import{B as m}from"./chunk-573s6t0s.js";function E(t,e,o){this.props=t,this.context=e,this.refs=x,this.updater=o||T}function C(){}function y(t,e,o){this.props=t,this.context=e,this.refs=x,this.updater=o||T}function a(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(o){if(t._status===0||t._status===-1)t._status=1,t._result=o},function(o){if(t._status===0||t._status===-1)t._status=2,t._result=o}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var w,j,O,T,P,x,v,p,$,M,S=function(t){return{$$typeof:O,_payload:{_status:-1,_result:t},_init:a}},N=function(t,e){return{$$typeof:j,type:t,compare:e===void 0?null:e}},I=function(t){return p.H.use(t)},h=function(t,e){return p.H.useCallback(t,e)},H=function(t,e,o){var n=p.H;if(typeof o==="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(t,e)},Y=function(t,e){return p.H.useMemo(t,e)},L=function(t,e,o){return p.H.useReducer(t,e,o)},k=function(t){return p.H.useRef(t)},U=function(t){return p.H.useState(t)},g="19.1.0";var q=m(()=>{w=Symbol.for("react.suspense"),j=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,x={};E.prototype.isReactComponent={};E.prototype.setState=function(t,e){if(typeof t!=="object"&&typeof t!=="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};E.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};C.prototype=E.prototype;v=y.prototype=new C;v.constructor=y;P(v,E.prototype);v.isPureReactComponent=!0;p={H:null,A:null,T:null,S:null,V:null};$=w,M=p});var z=Symbol.for("react.transitional.element"),G=Symbol.for("react.fragment");function d(t,e,o){var n=null;if(o!==void 0&&(n=""+o),e.key!==void 0&&(n=""+e.key),"key"in e){o={};for(var r in e)r!=="key"&&(o[r]=e[r])}else o=e;return e=o.ref,{$$typeof:z,type:t,key:n,ref:e!==void 0?e:null,props:o}}var W=G,D=d,Q=d;var A=async(t,e)=>{let o=t.slice(0,16),n=t.slice(16,32),r=t.slice(32),s=await crypto.subtle.digest("SHA-256",new TextEncoder().encode(e)),R=new Uint8Array(s),c=Array.from(R).map((u)=>u.toString(16).padStart(2,"0")).join(""),f=new TextEncoder().encode(c),i=await crypto.subtle.importKey("raw",f,"PBKDF2",!1,["deriveKey"]),_=await crypto.subtle.deriveKey({name:"PBKDF2",salt:o,iterations:1000,hash:"SHA-256"},i,{name:"AES-CBC",length:256},!1,["decrypt"]),l=await crypto.subtle.decrypt({name:"AES-CBC",iv:n},_,r);return new TextDecoder().decode(l)};var F=(t)=>{let o=`<script>(${(()=>{let n=location.hash;window.addEventListener("hashchange",()=>{if(location.hash!==n)location.reload()})}).toString()})();</script>`;if(t.includes("</head>"))t=t.replace("</head>",o+`
</head>`);else t+=o;document.open(),document.write(t),document.close()},X=async(t)=>{return new Promise((e,o)=>{let n=new Image;n.crossOrigin="anonymous",n.src=t,n.onload=()=>{let r=document.createElement("canvas");r.width=n.width,r.height=n.height;let s=r.getContext("2d");if(!s)return o("无法获取 canvas 上下文");s.drawImage(n,0,0);let c=s.getImageData(0,0,n.width,n.height).data,f=[];for(let u=0;u<c.length;u+=4)f.push(c[u]%16),f.push(c[u+1]%16),f.push(c[u+2]%16);let i=[];for(let u=0;u+1<f.length;u+=2)i.push(f[u]+f[u+1]*16);let _=i[0]+(i[1]<<8)+(i[2]<<16)+(i[3]<<24),l=i.slice(4,4+_);e(new Uint8Array(l))},n.onerror=(r)=>o("图像加载失败: "+r)})},K=async(t,e)=>{try{let o=await X(t);return await A(o,e)}catch(o){return console.log("fetch content error:",o),""}},b=()=>{let t=new URL(window.location.href),e=new URLSearchParams,o=new URLSearchParams(t.search);for(let[r,s]of o.entries())if(!(r in e))e.set(r,s);let n=new URLSearchParams(t.hash.slice(1));for(let[r,s]of n.entries())e.set(r,s);return e},tt=(t)=>{let e=new Map;return(o,...n)=>{if(e.has(o))return e.get(o);let r=t(...n);return e.set(o,r),r}};
export{$ as c,M as d,S as e,N as f,I as g,h,H as i,Y as j,L as k,k as l,U as m,g as n,q as o,W as p,D as q,Q as r,A as s,F as t,X as u,K as v,b as w,tt as x};
