import{B as w}from"./chunk-573s6t0s.js";function E(t,e,o){this.props=t,this.context=e,this.refs=y,this.updater=o||C}function x(){}function d(t,e,o){this.props=t,this.context=e,this.refs=y,this.updater=o||C}function M(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(o){if(t._status===0||t._status===-1)t._status=1,t._result=o},function(o){if(t._status===0||t._status===-1)t._status=2,t._result=o}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var O,P,j,C,$,y,v,p,S,N,a=function(t){return{$$typeof:j,_payload:{_status:-1,_result:t},_init:M}},I=function(t,e){return{$$typeof:P,type:t,compare:e===void 0?null:e}},H=function(t){return p.H.use(t)},Y=function(t,e){return p.H.useCallback(t,e)},h=function(t,e,o){var n=p.H;if(typeof o==="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(t,e)},L=function(t,e){return p.H.useMemo(t,e)},k=function(t,e,o){return p.H.useReducer(t,e,o)},U=function(t){return p.H.useState(t)},q="19.1.0";var z=w(()=>{O=Symbol.for("react.suspense"),P=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,y={};E.prototype.isReactComponent={};E.prototype.setState=function(t,e){if(typeof t!=="object"&&typeof t!=="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};E.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};x.prototype=E.prototype;v=d.prototype=new x;v.constructor=d;$(v,E.prototype);v.isPureReactComponent=!0;p={H:null,A:null,T:null,S:null,V:null};S=O,N=p});var G=Symbol.for("react.transitional.element"),W=Symbol.for("react.fragment");function A(t,e,o){var n=null;if(o!==void 0&&(n=""+o),e.key!==void 0&&(n=""+e.key),"key"in e){o={};for(var r in e)r!=="key"&&(o[r]=e[r])}else o=e;return e=o.ref,{$$typeof:G,type:t,key:n,ref:e!==void 0?e:null,props:o}}var Q=W,X=A,Z=A;var m=async(t,e)=>{let o=t.slice(0,16),n=t.slice(16,32),r=t.slice(32),u=await crypto.subtle.digest("SHA-256",new TextEncoder().encode(e)),_=new Uint8Array(u),i=Array.from(_).map((f)=>f.toString(16).padStart(2,"0")).join(""),R=new TextEncoder().encode(i),l=await crypto.subtle.importKey("raw",R,"PBKDF2",!1,["deriveKey"]),T=await crypto.subtle.deriveKey({name:"PBKDF2",salt:o,iterations:1000,hash:"SHA-256"},l,{name:"AES-CBC",length:256},!1,["decrypt"]),s=await crypto.subtle.decrypt({name:"AES-CBC",iv:n},T,r);return new TextDecoder().decode(s)};var B=(t)=>{let o=`<script>(${(()=>{let n=location.hash;window.addEventListener("hashchange",()=>{if(location.hash!==n)location.reload()})}).toString()})();</script>`;if(t.includes("</head>"))t=t.replace("</head>",o+`
</head>`);else t+=o;document.open(),document.write(t),document.close()},J=async(t)=>{let e=await new Promise((s,f)=>{let c=new Image;c.crossOrigin="anonymous",c.onload=()=>s(c),c.onerror=f,c.src=t}),o=document.createElement("canvas");o.width=e.width,o.height=e.height;let n=o.getContext("2d");if(!n)throw new Error("无法获取 canvas 2D 渲染上下文。");n.drawImage(e,0,0);let u=n.getImageData(0,0,e.width,e.height).data,_=u.length/4,i=new Uint8Array(_*3);for(let s=0,f=0;s<u.length;s+=4,f+=3)i[f]=u[s],i[f+1]=u[s+1],i[f+2]=u[s+2];let l=new DataView(i.buffer).getUint32(0,!1);return i.subarray(4,4+l)},F=async(t,e)=>{try{let o=await J(t);return await m(o,e)}catch(o){return console.log("fetch content error:",o),""}},K=()=>{let t=new URL(window.location.href),e=new URLSearchParams,o=new URLSearchParams(t.search);for(let[r,u]of o.entries())if(!(r in e))e.set(r,u);let n=new URLSearchParams(t.hash.slice(1));for(let[r,u]of n.entries())e.set(r,u);return e},tt=(t)=>{let e=new Map;return(o,...n)=>{if(e.has(o))return e.get(o);let r=t(...n);return e.set(o,r),r}};
export{S as d,N as e,a as f,I as g,H as h,Y as i,h as j,L as k,k as l,U as m,q as n,z as o,Q as p,X as q,Z as r,m as s,B as t,J as u,F as v,K as w,tt as x};
