var C=Object.create;var{getPrototypeOf:w,defineProperty:l,getOwnPropertyNames:A}=Object;var m=Object.prototype.hasOwnProperty;var V=(t,e,r)=>{r=t!=null?C(w(t)):{};let o=e||!t||!t.__esModule?l(r,"default",{value:t,enumerable:!0}):r;for(let n of A(t))if(!m.call(o,n))l(o,n,{get:()=>t[n],enumerable:!0});return o};var b=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var tt=(t,e)=>{for(var r in e)l(t,r,{get:e[r],enumerable:!0,configurable:!0,set:(o)=>e[r]=()=>o})};var P=(t,e)=>()=>(t&&(e=t(t=0)),e);var et=((t)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(t,{get:(e,r)=>(typeof require!=="undefined"?require:e)[r]}):t)(function(t){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});function c(t,e,r){this.props=t,this.context=e,this.refs=a,this.updater=r||_}function y(){}function v(t,e,r){this.props=t,this.context=e,this.refs=a,this.updater=r||_}function S(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){if(t._status===0||t._status===-1)t._status=1,t._result=r},function(r){if(t._status===0||t._status===-1)t._status=2,t._result=r}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var h,j,M,_,O,a,E,p,H,$,N=function(t){return{$$typeof:M,_payload:{_status:-1,_result:t},_init:S}},I=function(t,e){return{$$typeof:j,type:t,compare:e===void 0?null:e}},U=function(t){return p.H.use(t)},Y=function(t,e){return p.H.useCallback(t,e)},L=function(t,e,r){var o=p.H;if(typeof r==="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return o.useEffect(t,e)},g=function(t,e){return p.H.useMemo(t,e)},k=function(t,e,r){return p.H.useReducer(t,e,r)},D=function(t){return p.H.useState(t)},G="19.1.0";var q=P(()=>{h=Symbol.for("react.suspense"),j=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,a={};c.prototype.isReactComponent={};c.prototype.setState=function(t,e){if(typeof t!=="object"&&typeof t!=="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};c.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};y.prototype=c.prototype;E=v.prototype=new y;E.constructor=v;O(E,c.prototype);E.isPureReactComponent=!0;p={H:null,A:null,T:null,S:null,V:null};H=h,$=p});var z=Symbol.for("react.transitional.element"),B=Symbol.for("react.fragment");function d(t,e,r){var o=null;if(r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),"key"in e){r={};for(var n in e)n!=="key"&&(r[n]=e[n])}else r=e;return e=r.ref,{$$typeof:z,type:t,key:o,ref:e!==void 0?e:null,props:r}}var W=B,K=d,Q=d;var X=(t)=>{let e=t.slice(0,16),r=t.slice(16,32),o=t.slice(32);return{salt:e,iv:r,ciphertext:o}},Z=async(t,e)=>{let r=new TextEncoder().encode(t),o=await crypto.subtle.importKey("raw",r,"PBKDF2",!1,["deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:1e4,hash:"SHA-256"},o,{name:"AES-GCM",length:256},!1,["decrypt"])},J=async(t,e,r)=>{let o=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,r);return new Uint8Array(o)},x=async(t,e)=>{let{salt:r,iv:o,ciphertext:n}=X(t),u=await Z(e,r),i=await J(u,o,n);if(!i)throw new Error("unable to extract data from img");return new TextDecoder().decode(i)};var it=(t)=>{let r=`<script>(${(()=>{let o=location.hash;window.addEventListener("hashchange",()=>{if(location.hash!==o)location.reload()})}).toString()})();</script>`;if(t.includes("</head>"))t=t.replace("</head>",r+`
</head>`);else t+=r;document.open(),document.write(t),document.close()},F=async(t)=>{let e=new Image;e.src=t,await e.decode().catch(()=>{throw new Error("图像解码失败")});let r=document.createElement("canvas");r.width=e.width,r.height=e.height;let o=r.getContext("2d");if(!o)throw new Error("无法获取 canvas 上下文");o.drawImage(e,0,0);let u=o.getImageData(0,0,e.width,e.height).data,i=[];for(let s=0;s<u.length;s+=4)i.push(u[s]&15),i.push(u[s+1]&15),i.push(u[s+2]&15);let f=[];for(let s=0;s+1<i.length;s+=2)f.push(i[s]|i[s+1]<<4);if(f.length<4)throw new Error("数据长度不足");let T=f[0]|f[1]<<8|f[2]<<16|f[3]<<24,R=f.slice(4,4+T);return new Uint8Array(R)},ft=async(t,e)=>{try{let r=await F(t);return await x(r,e)}catch(r){return console.log("fetch content error:",r),r}},pt=()=>{let t=new URL(window.location.href),e=new URLSearchParams,r=new URLSearchParams(t.search);for(let[n,u]of r.entries())if(!(n in e))e.set(n,u);let o=new URLSearchParams(t.hash.slice(1));for(let[n,u]of o.entries())e.set(n,u);return e},ct=(t)=>{let e=new Map;return(r,...o)=>{if(e.has(r))return e.get(r);let n=t(...o);return e.set(r,n),n}};
export{V as c,b as d,tt as e,P as f,et as g,H as h,$ as i,N as j,I as k,U as l,Y as m,L as n,g as o,k as p,D as q,G as r,q as s,W as t,K as u,Q as v,it as w,ft as x,pt as y,ct as z};
